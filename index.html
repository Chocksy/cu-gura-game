<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cu Gura p√¢nƒÉ la Urechi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: white;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.8;
            margin-bottom: 30px;
        }

        .card {
            background: linear-gradient(145deg, #e94560, #ff6b6b);
            border-radius: 24px;
            padding: 40px;
            min-width: 320px;
            max-width: 500px;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 20px 60px rgba(233, 69, 96, 0.4);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(180deg); }
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 30px 80px rgba(233, 69, 96, 0.5);
        }

        .words {
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 30px;
            line-height: 1.4;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .execution {
            background: rgba(0,0,0,0.2);
            padding: 15px 25px;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 600;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .execution-icon {
            font-size: 1.8rem;
        }

        .generate-btn {
            margin-top: 30px;
            padding: 18px 50px;
            font-size: 1.3rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            background: linear-gradient(145deg, #00b4d8, #0077b6);
            color: white;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 10px 30px rgba(0, 180, 216, 0.4);
        }

        .generate-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 180, 216, 0.5);
        }

        .generate-btn:disabled {
            background: #666;
            cursor: not-allowed;
            box-shadow: none;
        }

        .loading {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .error {
            color: #ff6b6b;
            margin-top: 15px;
            text-align: center;
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            .card { padding: 30px 20px; min-width: 280px; }
            .words { font-size: 1.5rem; }
            .execution { font-size: 1.1rem; }
            .generate-btn { padding: 15px 40px; font-size: 1.1rem; }
        }
    </style>
</head>
<body>
    <h1>üé≠ Cu Gura p√¢nƒÉ la Urechi</h1>
    <p class="subtitle">GenereazƒÉ o carte »ôi spune cuvintele!</p>

    <div class="card" id="card">
        <div class="words" id="words">ApasƒÉ butonul pentru a genera o carte!</div>
        <div class="execution" id="execution" style="display: none;">
            <span class="execution-icon" id="executionIcon"></span>
            <span id="executionText"></span>
        </div>
    </div>

    <button class="generate-btn" id="generateBtn" onclick="generateCard()">
        üé≤ GenereazƒÉ Carte
    </button>

    <p class="error" id="error"></p>

    <!-- API Key injected by server -->
    <script>window.OPENROUTER_API_KEY = "%%OPENROUTER_API_KEY%%";</script>

    <script>
        const OPENROUTER_URL = 'https://openrouter.ai/api/v1/chat/completions';
        const MODEL = 'openai/gpt-4o-mini';
        const API_KEY = window.OPENROUTER_API_KEY;
        
        const EXECUTION_STYLES = [
            { text: 'Cu gura deschisƒÉ', icon: 'üòÆ' },
            { text: 'Cu limba √Æn cerul gurii', icon: 'ü§ê' },
            { text: 'Cu limba scoasƒÉ', icon: 'üòõ' },
            { text: 'Cu z√¢mbet', icon: 'üòä' }
        ];

        async function generateCard() {
            const btn = document.getElementById('generateBtn');
            const wordsEl = document.getElementById('words');
            const executionEl = document.getElementById('execution');
            const errorEl = document.getElementById('error');

            btn.disabled = true;
            btn.textContent = '‚è≥ Se genereazƒÉ...';
            btn.classList.add('loading');
            errorEl.textContent = '';
            executionEl.style.display = 'none';

            try {
                const response = await fetch(OPENROUTER_URL, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${API_KEY}`,
                        'Content-Type': 'application/json',
                        'HTTP-Referer': window.location.href,
                        'X-Title': 'Cu Gura pana la Urechi'
                    },
                    body: JSON.stringify({
                        model: MODEL,
                        messages: [{
                            role: 'user',
                            content: `GenereazƒÉ exact √Æntre 1 »ôi 5 cuvinte sau expresii scurte √Æn limba rom√¢nƒÉ pentru un joc de ghicit. 
                            Cuvintele trebuie sƒÉ fie substantive comune, obiecte, animale, ac»õiuni sau expresii cunoscute care pot fi mimate sau spuse cu dificultate.
                            RƒÉspunde DOAR cu cuvintele separate prin virgulƒÉ, fƒÉrƒÉ explica»õii sau text adi»õional.
                            Exemple bune: "pisicƒÉ", "avion, casƒÉ", "a merge pe bicicletƒÉ", "floare, soare, nor"
                            Fii creativ »ôi variazƒÉ dificultatea!`
                        }],
                        max_tokens: 50,
                        temperature: 1.0
                    })
                });

                if (!response.ok) {
                    throw new Error(`Eroare API: ${response.status}`);
                }

                const data = await response.json();
                const words = data.choices[0].message.content.trim();
                
                // Random execution style
                const style = EXECUTION_STYLES[Math.floor(Math.random() * EXECUTION_STYLES.length)];

                wordsEl.textContent = words;
                document.getElementById('executionIcon').textContent = style.icon;
                document.getElementById('executionText').textContent = style.text;
                executionEl.style.display = 'flex';

            } catch (err) {
                console.error(err);
                errorEl.textContent = `Eroare: ${err.message}`;
            } finally {
                btn.disabled = false;
                btn.textContent = 'üé≤ GenereazƒÉ Carte';
                btn.classList.remove('loading');
            }
        }
    </script>
</body>
</html>
